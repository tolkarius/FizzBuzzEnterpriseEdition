pipeline {

    agent any
    
    environment {
        NEW_VERSION = '6.9'
        SERVER_CREDENTIALS = credentials('server-credential')
    
    stages {
    
        stage("build") {
        
            steps {
                echo 'building the application...'
                
            }
        }
        
        stage("test") {
        
            steps {
                echo 'testing the application...'
            }
        }
        
        
        stage("coverage") {
        
            steps {
                echo 'creating reports...'
            }
        }
        
        stage("deploy") {
        
            steps {
                echo 'deploying...'
                echo "deploying with ${SERVER_CREDENTIALS}"
                sh "{SERVER_CREDENTIALS}""
            }
        }
    }
    port {
        always {
        // this will always executes no matter of the outcome
        }
        success {
        // if success
        }
        failure {
        // if failed
        }
   }
}
            
